webpackHotUpdate("main",{

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PIXI = __webpack_require__(/*! pixi.js */ \"./node_modules/pixi.js/lib/pixi.es.js\");\r\nvar grid_1 = __webpack_require__(/*! ./components/grid */ \"./src/components/grid.ts\");\r\nconsole.log(\"before utils\");\r\nvar utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils/index.ts\");\r\nvar config_1 = __webpack_require__(/*! ./config */ \"./src/config.ts\");\r\nvar gui_window_1 = __webpack_require__(/*! ./components/gui/gui_window */ \"./src/components/gui/gui_window.ts\");\r\nvar load = function (app) {\r\n    return new Promise(function (resolve) {\r\n        return app.loader\r\n            .add(\"doge\", \"assets/sprites/doge-icon.svg\")\r\n            .load(function () { return resolve(); });\r\n    });\r\n};\r\nvar main = function () { return __awaiter(void 0, void 0, void 0, function () {\r\n    // let velocity = { x: 1, y: 1 };\r\n    function update(delta) {\r\n        // if (sprite.x <= 0 || sprite.x >= width() - sprite.width)\r\n        //     velocity.x = -velocity.x;\r\n        // if (sprite.y <= 0 || sprite.y >= height() - sprite.height)\r\n        //     velocity.y = -velocity.y;\r\n        // sprite.x += velocity.x * delta;\r\n        // sprite.y += velocity.y * delta;\r\n        // grid.x += 0.15 * delta;\r\n        // grid.y += 0.1 * delta;\r\n        grid.update();\r\n        guiTest.draw();\r\n        sprite.x = grid.gridToScreen(0.5, 0.5).x;\r\n        sprite.y = grid.gridToScreen(0.5, 0.5).y;\r\n    }\r\n    var app, grid, sprite, guiTest;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                app = new PIXI.Application();\r\n                document.body.style.margin = \"0\";\r\n                app.renderer.view.style.position = \"absolute\";\r\n                app.renderer.view.style.display = \"block\";\r\n                app.renderer.resize(window.innerWidth, window.innerHeight);\r\n                document.body.appendChild(app.view);\r\n                return [4 /*yield*/, load(app)];\r\n            case 1:\r\n                _a.sent();\r\n                app.renderer.backgroundColor = config_1.default.backgroundColor;\r\n                grid = new grid_1.default(100);\r\n                app.stage.addChild(grid);\r\n                sprite = new PIXI.Sprite(app.loader.resources.doge.texture);\r\n                sprite.width = 20;\r\n                sprite.height = 20;\r\n                sprite.x = utils_1.width() / 2 - sprite.width / 2;\r\n                sprite.y = utils_1.height() / 2 - sprite.height / 2;\r\n                app.stage.addChild(sprite);\r\n                guiTest = new gui_window_1.default(20, 20, 100, 500, 0xff0000);\r\n                guiTest.draw();\r\n                app.stage.addChild(guiTest);\r\n                // onMouseMove((e) => {\r\n                //     // console.log(grid.screenToGrid(e.clientX, e.clientY));\r\n                // });\r\n                utils_1.onResize(function () {\r\n                    var _a;\r\n                    (_a = app.renderer).resize.apply(_a, utils_1.dimensions());\r\n                    sprite.x = utils_1.width() / 2 - sprite.width / 2;\r\n                    sprite.y = utils_1.height() / 2 - sprite.height / 2;\r\n                });\r\n                window.addEventListener(\"contextmenu\", function (e) { return e.preventDefault(); });\r\n                window.addEventListener(\"wheel\", function (e) {\r\n                    var hitObject = app.renderer.plugins.interaction.hitTest(new PIXI.Point(e.pageX, e.pageY), app.stage);\r\n                    // console.log(grid);\r\n                    if (hitObject != null) {\r\n                        utils_1.scrollListeners.forEach(function (eventObj) {\r\n                            if (eventObj.object == hitObject)\r\n                                eventObj.listener(e);\r\n                        });\r\n                    }\r\n                });\r\n                app.ticker.add(update);\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nmain();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFBJWEkgZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCBHcmlkIGZyb20gXCIuL2NvbXBvbmVudHMvZ3JpZFwiO1xuY29uc29sZS5sb2coXCJiZWZvcmUgdXRpbHNcIik7XG5pbXBvcnQge1xuICAgIGRpbWVuc2lvbnMsXG4gICAgaGVpZ2h0LFxuICAgIG9uUmVzaXplLFxuICAgIHdpZHRoLFxuICAgIHNjcm9sbExpc3RlbmVycyxcbiAgICBEaXNwbGF5T2JqZWN0U2Nyb2xsRXZlbnQsXG59IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IEdVSVdpbmRvdyBmcm9tIFwiLi9jb21wb25lbnRzL2d1aS9ndWlfd2luZG93XCI7XG5cbmNvbnN0IGxvYWQgPSAoYXBwOiBQSVhJLkFwcGxpY2F0aW9uKSA9PlxuICAgIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PlxuICAgICAgICBhcHAubG9hZGVyXG4gICAgICAgICAgICAuYWRkKFwiZG9nZVwiLCBcImFzc2V0cy9zcHJpdGVzL2RvZ2UtaWNvbi5zdmdcIilcbiAgICAgICAgICAgIC5sb2FkKCgpID0+IHJlc29sdmUoKSlcbiAgICApO1xuXG5jb25zdCBtYWluID0gYXN5bmMgKCkgPT4ge1xuICAgIGxldCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcbiAgICBhcHAucmVuZGVyZXIudmlldy5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBhcHAucmVuZGVyZXIudmlldy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIGFwcC5yZW5kZXJlci5yZXNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG5cbiAgICBhd2FpdCBsb2FkKGFwcCk7XG5cbiAgICBhcHAucmVuZGVyZXIuYmFja2dyb3VuZENvbG9yID0gY29uZmlnLmJhY2tncm91bmRDb2xvcjtcblxuICAgIGxldCBncmlkID0gbmV3IEdyaWQoMTAwKTtcblxuICAgIGFwcC5zdGFnZS5hZGRDaGlsZChncmlkKTtcblxuICAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoYXBwLmxvYWRlci5yZXNvdXJjZXMuZG9nZS50ZXh0dXJlKTtcbiAgICBzcHJpdGUud2lkdGggPSAyMDtcbiAgICBzcHJpdGUuaGVpZ2h0ID0gMjA7XG4gICAgc3ByaXRlLnggPSB3aWR0aCgpIC8gMiAtIHNwcml0ZS53aWR0aCAvIDI7XG4gICAgc3ByaXRlLnkgPSBoZWlnaHQoKSAvIDIgLSBzcHJpdGUuaGVpZ2h0IC8gMjtcbiAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcblxuICAgIGxldCBndWlUZXN0ID0gbmV3IEdVSVdpbmRvdygyMCwgMjAsIDEwMCwgNTAwLCAweGZmMDAwMCk7XG4gICAgZ3VpVGVzdC5kcmF3KCk7XG5cbiAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoZ3VpVGVzdCk7XG5cbiAgICAvLyBvbk1vdXNlTW92ZSgoZSkgPT4ge1xuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhncmlkLnNjcmVlblRvR3JpZChlLmNsaWVudFgsIGUuY2xpZW50WSkpO1xuICAgIC8vIH0pO1xuXG4gICAgb25SZXNpemUoKCkgPT4ge1xuICAgICAgICBhcHAucmVuZGVyZXIucmVzaXplKC4uLmRpbWVuc2lvbnMoKSk7XG4gICAgICAgIHNwcml0ZS54ID0gd2lkdGgoKSAvIDIgLSBzcHJpdGUud2lkdGggLyAyO1xuICAgICAgICBzcHJpdGUueSA9IGhlaWdodCgpIC8gMiAtIHNwcml0ZS5oZWlnaHQgLyAyO1xuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgKGU6IFdoZWVsRXZlbnQpID0+IHtcbiAgICAgICAgbGV0IGhpdE9iamVjdCA9IGFwcC5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uLmhpdFRlc3QoXG4gICAgICAgICAgICBuZXcgUElYSS5Qb2ludChlLnBhZ2VYLCBlLnBhZ2VZKSxcbiAgICAgICAgICAgIGFwcC5zdGFnZVxuICAgICAgICApO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhncmlkKTtcbiAgICAgICAgaWYgKGhpdE9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzY3JvbGxMaXN0ZW5lcnMuZm9yRWFjaCgoZXZlbnRPYmo6IERpc3BsYXlPYmplY3RTY3JvbGxFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChldmVudE9iai5vYmplY3QgPT0gaGl0T2JqZWN0KSBldmVudE9iai5saXN0ZW5lcihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBsZXQgdmVsb2NpdHkgPSB7IHg6IDEsIHk6IDEgfTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZShkZWx0YTogbnVtYmVyKSB7XG4gICAgICAgIC8vIGlmIChzcHJpdGUueCA8PSAwIHx8IHNwcml0ZS54ID49IHdpZHRoKCkgLSBzcHJpdGUud2lkdGgpXG4gICAgICAgIC8vICAgICB2ZWxvY2l0eS54ID0gLXZlbG9jaXR5Lng7XG5cbiAgICAgICAgLy8gaWYgKHNwcml0ZS55IDw9IDAgfHwgc3ByaXRlLnkgPj0gaGVpZ2h0KCkgLSBzcHJpdGUuaGVpZ2h0KVxuICAgICAgICAvLyAgICAgdmVsb2NpdHkueSA9IC12ZWxvY2l0eS55O1xuICAgICAgICAvLyBzcHJpdGUueCArPSB2ZWxvY2l0eS54ICogZGVsdGE7XG4gICAgICAgIC8vIHNwcml0ZS55ICs9IHZlbG9jaXR5LnkgKiBkZWx0YTtcblxuICAgICAgICAvLyBncmlkLnggKz0gMC4xNSAqIGRlbHRhO1xuICAgICAgICAvLyBncmlkLnkgKz0gMC4xICogZGVsdGE7XG4gICAgICAgIGdyaWQudXBkYXRlKCk7XG4gICAgICAgIGd1aVRlc3QuZHJhdygpO1xuICAgICAgICBzcHJpdGUueCA9IGdyaWQuZ3JpZFRvU2NyZWVuKDAuNSwgMC41KS54O1xuICAgICAgICBzcHJpdGUueSA9IGdyaWQuZ3JpZFRvU2NyZWVuKDAuNSwgMC41KS55O1xuICAgIH1cbiAgICBhcHAudGlja2VyLmFkZCh1cGRhdGUpO1xufTtcblxubWFpbigpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBTUE7QUFzREE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQXRFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQW9CQTs7OztBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ })

})