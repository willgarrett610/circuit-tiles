webpackHotUpdate("main", {
    /***/ "./src/components/create-grid.ts":
        /*!***************************************!*\
  !*** ./src/components/create-grid.ts ***!
  \***************************************/
        /*! no static exports found */
        /***/ function (module, exports, __webpack_require__) {
            "use strict";
            eval(
                '\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nexports.createGrid = void 0;\r\nvar PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");\r\nvar utils_1 = __webpack_require__(/*! ../utils */ "./src/utils/index.ts");\r\nvar line_1 = __webpack_require__(/*! ../utils/line */ "./src/utils/line.ts");\r\nvar math_1 = __webpack_require__(/*! ../utils/math */ "./src/utils/math.ts");\r\nfunction createGrid(size) {\r\n    var container = new PIXI.Container();\r\n    var generate = function (width, height) {\r\n        var tileXCount = Math.ceil(width / size);\r\n        var tileYCount = Math.ceil(height / size);\r\n        var output = [];\r\n        for (var x = -Math.floor(container.x / size); x <= tileXCount - Math.floor(container.x / size); x++) {\r\n            var line = new line_1.Line([x * size, -container.y, x * size, height - container.y], 2, 0x222222);\r\n            output.push(line);\r\n        }\r\n        for (var y = -Math.floor(container.y / size); y <= tileYCount - Math.floor(container.y / size); y++) {\r\n            var line = new line_1.Line([-container.x, y * size, width - container.x, y * size], 2, 0x222222);\r\n            output.push(line);\r\n        }\r\n        return output;\r\n    };\r\n    generate.apply(void 0, utils_1.dimensions()).forEach(function (child) { return container.addChild(child); });\r\n    var update = function () {\r\n        container.removeChildren();\r\n        generate.apply(void 0, utils_1.dimensions()).forEach(function (child) { return container.addChild(child); });\r\n    };\r\n    /**\r\n     * From screen space to grid space\r\n     * @param x X in screen space\r\n     * @param y Y in screen space\r\n     * @returns Coordinates in grid space\r\n     */\r\n    var screenToGrid = function (x, y) { return ({\r\n        x: Math.floor((-container.x + x) / size),\r\n        y: Math.floor((-container.y + y) / size),\r\n    }); };\r\n    /**\r\n     * From grid space to screen space (Top Left corner)\r\n     * @param x X in grid space\r\n     * @param y Y in grid space\r\n     * @returns Coordinates in screen space\r\n     */\r\n    var gridToScreen = function (x, y) { return ({\r\n        x: Math.floor(x) * size + container.x,\r\n        y: Math.floor(y) * size + container.y,\r\n    }); };\r\n    utils_1.onResize(update);\r\n    utils_1.onScroll(function (e) {\r\n        size -= e.deltaY * 0.1;\r\n        size = math_1.clamp(size, 20, 350);\r\n        console.log({ size: size });\r\n        update();\r\n    });\r\n    utils_1.onDrag(function (e) {\r\n        console.log("off", e.offsetX);\r\n        container.x += e.offsetX;\r\n        container.y += e.offsetY;\r\n        update();\r\n    });\r\n    return { container: container, update: update, screenToGrid: screenToGrid, gridToScreen: gridToScreen };\r\n}\r\nexports.createGrid = createGrid;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jcmVhdGUtZ3JpZC50cy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi9zcmMvY29tcG9uZW50cy9jcmVhdGUtZ3JpZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBQSVhJIGZyb20gXCJwaXhpLmpzXCI7XHJcbmltcG9ydCB7IGRpbWVuc2lvbnMsIG9uRHJhZywgb25SZXNpemUsIG9uU2Nyb2xsIH0gZnJvbSBcIi4uL3V0aWxzXCI7XHJcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi4vdXRpbHMvbGluZVwiO1xyXG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gXCIuLi91dGlscy9tYXRoXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR3JpZChcclxuICAgIHNpemU6IG51bWJlclxyXG4pOiB7XHJcbiAgICBjb250YWluZXI6IFBJWEkuQ29udGFpbmVyO1xyXG4gICAgdXBkYXRlOiAoKSA9PiB2b2lkO1xyXG4gICAgc2NyZWVuVG9HcmlkOiAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcclxuICAgIGdyaWRUb1NjcmVlbjogKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XHJcbn0ge1xyXG4gICAgbGV0IGNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xyXG5cclxuICAgIGNvbnN0IGdlbmVyYXRlID0gKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogUElYSS5HcmFwaGljc1tdID0+IHtcclxuICAgICAgICBjb25zdCB0aWxlWENvdW50ID0gTWF0aC5jZWlsKHdpZHRoIC8gc2l6ZSk7XHJcbiAgICAgICAgY29uc3QgdGlsZVlDb3VudCA9IE1hdGguY2VpbChoZWlnaHQgLyBzaXplKTtcclxuXHJcbiAgICAgICAgbGV0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAoXHJcbiAgICAgICAgICAgIGxldCB4ID0gLU1hdGguZmxvb3IoY29udGFpbmVyLnggLyBzaXplKTtcclxuICAgICAgICAgICAgeCA8PSB0aWxlWENvdW50IC0gTWF0aC5mbG9vcihjb250YWluZXIueCAvIHNpemUpO1xyXG4gICAgICAgICAgICB4KytcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdmFyIGxpbmUgPSBuZXcgTGluZShcclxuICAgICAgICAgICAgICAgIFt4ICogc2l6ZSwgLWNvbnRhaW5lci55LCB4ICogc2l6ZSwgaGVpZ2h0IC0gY29udGFpbmVyLnldLFxyXG4gICAgICAgICAgICAgICAgMixcclxuICAgICAgICAgICAgICAgIDB4MjIyMjIyXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKGxpbmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChcclxuICAgICAgICAgICAgbGV0IHkgPSAtTWF0aC5mbG9vcihjb250YWluZXIueSAvIHNpemUpO1xyXG4gICAgICAgICAgICB5IDw9IHRpbGVZQ291bnQgLSBNYXRoLmZsb29yKGNvbnRhaW5lci55IC8gc2l6ZSk7XHJcbiAgICAgICAgICAgIHkrK1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB2YXIgbGluZSA9IG5ldyBMaW5lKFxyXG4gICAgICAgICAgICAgICAgWy1jb250YWluZXIueCwgeSAqIHNpemUsIHdpZHRoIC0gY29udGFpbmVyLngsIHkgKiBzaXplXSxcclxuICAgICAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgICAgICAweDIyMjIyMlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBvdXRwdXQucHVzaChsaW5lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGdlbmVyYXRlKC4uLmRpbWVuc2lvbnMoKSkuZm9yRWFjaCgoY2hpbGQpID0+IGNvbnRhaW5lci5hZGRDaGlsZChjaGlsZCkpO1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcclxuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGRyZW4oKTtcclxuICAgICAgICBnZW5lcmF0ZSguLi5kaW1lbnNpb25zKCkpLmZvckVhY2goKGNoaWxkKSA9PiBjb250YWluZXIuYWRkQ2hpbGQoY2hpbGQpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGcm9tIHNjcmVlbiBzcGFjZSB0byBncmlkIHNwYWNlXHJcbiAgICAgKiBAcGFyYW0geCBYIGluIHNjcmVlbiBzcGFjZVxyXG4gICAgICogQHBhcmFtIHkgWSBpbiBzY3JlZW4gc3BhY2VcclxuICAgICAqIEByZXR1cm5zIENvb3JkaW5hdGVzIGluIGdyaWQgc3BhY2VcclxuICAgICAqL1xyXG4gICAgY29uc3Qgc2NyZWVuVG9HcmlkID0gKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiAoe1xyXG4gICAgICAgIHg6IE1hdGguZmxvb3IoKC1jb250YWluZXIueCArIHgpIC8gc2l6ZSksXHJcbiAgICAgICAgeTogTWF0aC5mbG9vcigoLWNvbnRhaW5lci55ICsgeSkgLyBzaXplKSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRnJvbSBncmlkIHNwYWNlIHRvIHNjcmVlbiBzcGFjZSAoVG9wIExlZnQgY29ybmVyKVxyXG4gICAgICogQHBhcmFtIHggWCBpbiBncmlkIHNwYWNlXHJcbiAgICAgKiBAcGFyYW0geSBZIGluIGdyaWQgc3BhY2VcclxuICAgICAqIEByZXR1cm5zIENvb3JkaW5hdGVzIGluIHNjcmVlbiBzcGFjZVxyXG4gICAgICovXHJcbiAgICBjb25zdCBncmlkVG9TY3JlZW4gPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+ICh7XHJcbiAgICAgICAgeDogTWF0aC5mbG9vcih4KSAqIHNpemUgKyBjb250YWluZXIueCxcclxuICAgICAgICB5OiBNYXRoLmZsb29yKHkpICogc2l6ZSArIGNvbnRhaW5lci55LFxyXG4gICAgfSk7XHJcblxyXG4gICAgb25SZXNpemUodXBkYXRlKTtcclxuICAgIG9uU2Nyb2xsKChlKSA9PiB7XHJcbiAgICAgICAgc2l6ZSAtPSBlLmRlbHRhWSAqIDAuMTtcclxuICAgICAgICBzaXplID0gY2xhbXAoc2l6ZSwgMjAsIDM1MCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coeyBzaXplIH0pO1xyXG4gICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgICBvbkRyYWcoKGUpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm9mZlwiLCBlLm9mZnNldFgpO1xyXG4gICAgICAgIGNvbnRhaW5lci54ICs9IGUub2Zmc2V0WDtcclxuICAgICAgICBjb250YWluZXIueSArPSBlLm9mZnNldFk7XHJcbiAgICAgICAgdXBkYXRlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4geyBjb250YWluZXIsIHVwZGF0ZSwgc2NyZWVuVG9HcmlkLCBncmlkVG9TY3JlZW4gfTtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUtBO0FBQ0E7QUFFQTtBQUtBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUF4RkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/create-grid.ts\n'
            );

            /***/
        },
});
